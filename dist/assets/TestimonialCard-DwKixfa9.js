import{r as x,j as e,C as h,P as c,S as b}from"./index-CxdybsDU.js";const f=({testimonial:t,isActive:o,isDragging:m})=>{const d=t.videoId==="68677fbfd890d9c12c549f94"||t.videoId==="6867816a78c1d68a675981f1"||t.videoId==="68678320c5ab1e6abe6e5b6f";return x.useEffect(()=>{if(o&&d){let r;const i=()=>{if(!window.vslVideoLoaded)return console.log("‚è≥ Waiting for main video to load before injecting testimonial video"),!1;console.log("üé¨ Injecting testimonial video:",t.videoId);const a=document.getElementById(`scr_testimonial_${t.videoId}`);if(a)try{a.remove()}catch(l){console.error("Error removing existing testimonial script:",l)}const s=document.getElementById(`vid-${t.videoId}`);if(!s)return console.error("‚ùå Target container not found for video:",t.videoId),!1;s.style.position="absolute",s.style.top="0",s.style.left="0",s.style.width="100%",s.style.height="100%",s.style.zIndex="20",s.style.overflow="hidden",s.style.borderRadius="0.75rem",s.style.isolation="isolate",s.innerHTML="",s.innerHTML=`
        <div id="vid_${t.videoId}" style="position:relative;width:100%;padding: 56.25% 0 0 0;">
          <img id="thumb_${t.videoId}" src="https://images.converteai.net/b792ccfe-b151-4538-84c6-42bb48a19ba4/players/${t.videoId}/thumbnail.jpg" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;display:block;">
          <div id="backdrop_${t.videoId}" style="position:absolute;top:0;width:100%;height:100%;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);"></div>
        </div>
        <style>
          .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;}
        </style>
      `;try{const l=document.createElement("div");l.id=`placeholder-${t.videoId}`,l.className="absolute inset-0 bg-gradient-to-br from-blue-800 to-blue-900 flex items-center justify-center",l.style.zIndex="15";const n=document.createElement("div");return n.className="text-center",n.innerHTML=`
            <div class="w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center mb-3 mx-auto">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 text-white ml-0.5"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
            </div>
            <p class="text-white/90 text-base font-medium mb-1">${t.name}</p>
            <p class="text-white/70 text-sm">Customer Story</p>
          `,l.appendChild(n),s.appendChild(l),!0}catch(l){return console.error("Error creating testimonial placeholder:",l),!1}};return i()||(r=window.setInterval(()=>{i()&&window.clearInterval(r)},2e3),setTimeout(()=>{r&&window.clearInterval(r)},3e4)),()=>{r&&window.clearInterval(r)}}return()=>{if(!o){const r=document.getElementById(`scr_testimonial_${t.videoId}`);if(r)try{r.remove()}catch(i){console.error("Error removing testimonial script:",i)}}}},[o,d,t.videoId]),e.jsxs("div",{className:`bg-white backdrop-blur-sm rounded-2xl p-4 sm:p-6 border border-blue-200 hover:bg-white/95 transition-all duration-300 max-w-md w-full mx-4 ${m?"shadow-2xl":"shadow-lg"} ${o?"ring-2 ring-blue-300":""}`,children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("img",{src:t.profileImage,alt:t.name,className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full object-cover border-2 border-blue-300 flex-shrink-0 shadow-lg",draggable:!1,loading:"lazy"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-blue-900 leading-tight mb-1",children:t.name}),e.jsx("p",{className:"text-sm sm:text-base text-blue-700 font-medium leading-tight mb-2",children:t.location}),e.jsx("div",{className:"inline-flex",children:e.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-2 py-1 rounded-full flex items-center gap-1 shadow-md",children:[e.jsx(h,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-bold",children:"VERIFIED"})]})})]})]}),e.jsx("div",{className:"bg-white/50 backdrop-blur-sm rounded-xl p-3 mb-4 border border-blue-100",children:e.jsxs("p",{className:"text-sm sm:text-base text-blue-800 leading-relaxed italic",children:['"',t.caption,'"']})}),o&&e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"aspect-video rounded-xl overflow-hidden shadow-lg bg-gray-900 relative",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{id:`vid-${t.videoId}`,style:{display:"block",margin:"0 auto",width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:20,isolation:"isolate",contain:"layout style paint size"}}),e.jsx("div",{id:`placeholder_${t.videoId}`,className:"absolute inset-0 bg-gradient-to-br from-blue-800 to-blue-900 flex items-center justify-center",style:{zIndex:10},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center mb-3 mx-auto",children:e.jsx(c,{className:"w-6 h-6 text-white ml-0.5"})}),e.jsx("p",{className:"text-white/90 text-base font-medium mb-1",children:t.name}),e.jsx("p",{className:"text-white/70 text-sm",children:"Customer Story"})]})})]}):e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-800 to-blue-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center mb-3 mx-auto",children:e.jsx(c,{className:"w-6 h-6 text-white ml-0.5"})}),e.jsx("p",{className:"text-white/90 text-base font-medium mb-1",children:t.name}),e.jsx("p",{className:"text-white/70 text-sm",children:"Customer Story"}),e.jsx("p",{className:"text-white/50 text-xs mt-2",children:"Video coming soon"})]})})})}),e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[[...Array(5)].map((r,i)=>e.jsx(b,{className:"w-4 h-4 text-yellow-500 fill-current"},i)),e.jsx("span",{className:"ml-1 text-gray-600 text-sm font-medium",children:"5.0"})]})]})};export{f as default};
